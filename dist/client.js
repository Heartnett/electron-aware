var SocketIOClient=require("socket.io-client"),Emitter=require("./emitter"),Client=function(t){function o(o){t.call(this),this.window=o,this.io=null,this.currentCommand=null}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype.log=function(t,o){void 0===o&&(o=!1),this.window.executeJavaScript('console.info("[electron-aware] - '+(o?"(ERROR) ":"")+t+'");')},o.prototype.send=function(t,o){this.currentCommand=t,this.io.emit(t,o)},o.prototype.start=function(t){var o=this;o.io=SocketIOClient("http://localhost:8087"),o.io.on("connect",function(){o.log("connected!"),t&&t()}),o.io.on("message",function(t){var e=t.event,n=t.args;o.emit(e,n)})},o}(Emitter);module.exports=Client;