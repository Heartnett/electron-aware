var ref=require("electron"),app=ref.app,Client=require("./client");module.exports={initialize:function(e){if(!e)throw new Error("Please supply a BrowserWindow object!");var n=null,r=this.client=new Client(n=e.webContents);return r.on("close-app",function(){return app.exit(0)}),r.on("refresh-page",function(){n.reload(),r.send("page-refreshed"),r.log("page refreshed!")}),r.on("reload-app",function(){r.log("restarting app"),r.send("restart-app",app.quit)}),r.start(function(){return r.send("online")}),app.on("quit",function(){"restart-app"!==r.currentCommand&&r.send("offline")}),r}};